<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OfferIQ - First Financial</title>
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/topojson@3"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- ========================================
         HEADER - Navigation & User Info
    ======================================== -->
    <header class="header">
        <div class="header-content">
            <div class="upper-header-content">
                <!-- Logo Section -->
                <div class="logo-section">
                    <img src="images/Logo-FF.svg" alt="First Financial">
                    <h1 class="logo">OfferIQ</h1>
                </div>

                <!-- User Section -->
                <div class="user-section">
                    <div class="user">
                        <div class="user-info">
                            <span class="user-greeting">Hello, John Smith</span>
                            <span class="last-login">Last log in Jul 4, 2025 at 10:28 PM EST</span>
                        </div>
                        <div class="user-avatar">
                            <img src="images/samuel-yongbo-kwon-uHwT183HKSw-unsplash.png" alt="User Avatar">
                        </div>
                    </div>
                    <button class="logout-btn" title="Logout">
                        <img class="icon-reverse" src="images/Icons/logout.svg" alt="Logout">
                    </button>
                </div>
            </div>
            <!-- Navigation Tabs -->
            <nav class="main-nav">
                <a href="#" class="nav-link" data-section="home">Home</a>
                <a href="#" class="nav-link active" data-section="campaign-studio">Campaign Studio</a>
            </nav>
        </div>
    </header>

    <!-- ========================================
         MAIN CONTENT
    ======================================== -->
    <main class="main-content">
        <!-- Campaign Studio Section -->
        <section id="campaign-studio" class="section active">
            <h2 class="page-title">Campaign Studio</h2>

            <div class="campaign-container">
                <!-- New Campaign Card -->
                <div class="campaign-card">
                    <div class="card-header tools">
                        <h3>New Campaign</h3>
                    </div>
                    <div class="campaign-card-content">
                        <div class="persona-icon" id="start-persona-icon">
                            <img src="images/Icons/Persona Gear.svg" alt="Persona Gear">
                        </div>
                        <p class="card-label">Build by Pre-Trained Personas</p>
                        <a href="#" class="start-link" id="start-persona-btn">Start Here</a>
                    </div>
                </div>

                <!-- Edit Active Campaigns Card -->
                <div class="campaign-card edit-campaigns">
                    <div class="card-header tools">
                        <h3>Edit Active Campaigns</h3>
                        <div class="search-box">
                            <img class="icon" src="images/Icons/search.svg" alt="Search">
                            <input type="text" placeholder="Search" id="campaign-search">
                        </div>
                    </div>
                    <div class="campaigns-list" id="campaigns-list">
                        <div class="empty-state">
                            <img class="icon" src="images/Icons/No Data.svg" alt="No Data">
                            <p>There is no data to display</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Home Section -->
        <section id="home" class="section">
            <h2 class="page-title">Dashboard Overview</h2>

            <!-- Metrics Cards -->
            <div class="metrics-grid">
                <div class="metric-card" data-metric="campaigns">
                    <div class="metric-icon blue">
                        <img class="icon" src="images/Icons/Campaign.svg" alt="Campaign">
                    </div>
                    <div class="metric-info">
                        <span class="metric-value">12</span>
                        <span class="metric-label">Active Campaigns</span>
                    </div>
                </div>

                <div class="metric-card" data-metric="reach">
                    <div class="metric-icon green">
                        <img class="icon" src="images/Icons/dotsunified.svg" alt="Dots Unified">
                    </div>
                    <div class="metric-info">
                        <span class="metric-value">35,420</span>
                        <span class="metric-label">Total Reach</span>
                    </div>
                </div>

                <div class="metric-card" data-metric="conversion">
                    <div class="metric-icon orange">
                        <img class="icon" src="images/Icons/Performance.svg" alt="Performance">
                    </div>
                    <div class="metric-info">
                        <span class="metric-value">68%</span>
                        <span class="metric-label">Avg. Conversion</span>
                    </div>
                </div>

                <div class="metric-card" data-metric="revenue">
                    <div class="metric-icon purple">
                        <img class="icon" src="images/Icons/cashback.svg" alt="Cashback">
                    </div>
                    <div class="metric-info">
                        <span class="metric-value">$2.4M</span>
                        <span class="metric-label">Projected Revenue</span>
                    </div>
                </div>
            </div>

            <!-- Recent Activity Table -->
            <div class="table-section">
                <div class="card-header">
                    <h3>Recent Campaign Performance</h3>
                </div>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Campaign Name</th>
                            <th>Persona</th>
                            <th>Status</th>
                            <th>Reach</th>
                            <th>Conversion</th>
                            <th>Revenue</th>
                        </tr>
                    </thead>
                    <tbody id="campaign-table-body">
                        <!-- Data populated by JS -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Build Persona Section (Modal/Wizard) -->
        <section id="persona-builder" class="section persona-wizard">
            <h2 class="page-title">Build by Pre-Trained Personas</h2>

            <div class="wizard-container">
                <!-- Stepper -->
                <div class="stepper">
                    <div class="step active" data-step="1">
                        <span class="step-number">1</span>
                        <span class="step-label">Explore Persona</span>
                    </div>
                    <div class="step-connector"></div>
                    <div class="step" data-step="2">
                        <span class="step-number">2</span>
                        <span class="step-label">Review Products</span>
                    </div>
                </div>

                <!-- Step 1: Explore Persona -->
                <div class="wizard-step" id="step-1">
                    <p class="step-description">Explore all the different Pre-Trained Personas to start your campaign.</p>

                    <div class="persona-selector">
                        <button class="persona-tag active" data-persona="homeowners">Home Owners <span class="remove-tag">&times;</span></button>
                        <button class="persona-tag" data-persona="first-time-homebuyer">First-Time Homebuyer</button>
                        <button class="persona-tag" data-persona="hnwi">High Net Worth (HNWI)</button>
                        <button class="persona-tag" data-persona="budget-savers">Budget-Conscious Savers</button>
                        <button class="persona-tag" data-persona="frequent-travelers">Frequent Travelers</button>
                        <button class="persona-tag" data-persona="gig-workers">Gig Economy Workers</button>
                        <button class="persona-tag" data-persona="small-business">Small Business Owners</button>
                        <button class="persona-tag" data-persona="young-professionals">Young Professionals</button>
                        <button class="persona-tag" data-persona="families">Families with Children</button>
                        <button class="persona-tag" data-persona="retirees">Retirees / Fixed Income</button>
                        <button class="persona-tag" data-persona="luxury">Luxury Lifestyle</button>
                        <button class="persona-tag" data-persona="credit-seekers">Credit Seekers / Builders</button>
                        <button class="persona-tag" data-persona="digital-natives">Digital Natives</button>
                        <button class="persona-tag" data-persona="renters">Renters</button>
                        <button class="persona-tag" data-persona="students">Students 18+</button>
                        <button class="persona-tag" data-persona="financially-distressed">Financially Distressed</button>
                        <button class="persona-tag" data-persona="at-risk">At-Risk Customers</button>
                    </div>

                    <div class="persona-details-grid">
                        <!-- Left Column -->
                        <div class="persona-details-column">
                            <!-- Persona Info Card -->
                            <div class="persona-info-card">
                                <div class="card-header">
                                    <h4>Persona: <span id="persona-name">Home Owners</span></h4>
                                </div>
                                <h4></h4>
                                <p id="persona-description">Established individuals who prioritize stability and long-term financial planning. They focus on managing mortgage obligations while building equity and maintaining lifestyle needs.</p>
                            </div>

                            <!-- Map Card -->
                            <div class="map-card" style="position: relative;">
                                <div class="card-header tools">
                                    <h4>Spend by Location</h4>

                                    <!-- Map Control Panel -->
                                    <div class="map-control-panel">
                                        <!-- Toggle Button (+) -->
                                        <button class="map-control-btn map-control-toggle" id="map-ctrl-toggle" title="Toggle Controls">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                                            </svg>
                                        </button>

                                        <!-- Home Button -->
                                        <button class="map-control-btn map-control-sub" id="map-ctrl-home" title="Reset Zoom">
                                            <img class="icon-reverse" src="images/Icons/home.svg" alt="Home">
                                        </button>

                                        <!-- Legend Toggle Button -->
                                        <button class="map-control-btn map-control-sub active" id="map-ctrl-legend" title="Toggle Legend">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                                <path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"/>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                                <div class="usa-map" id="usa-map">
                                    <!-- SVG Map will be inserted here -->
                                </div>
                            </div>
                        </div>

                        <!-- Right Column -->
                        <div class="persona-details-column">
                            <div class="comparison-wrapper">
                                <!-- Persona Characteristics -->
                                <div class="characteristics-card" id="usa-char-card">
                                    <div class="card-header">
                                        <h4>Persona Characteristics</h4>
                                    </div>
                                    <div class="characteristics-list">
                                        <div class="char-item">
                                            <span class="char-label">Population</span>
                                            <span class="char-value" id="char-population">35,000</span>
                                        </div>
                                        <div class="char-item">
                                            <span class="char-label">Assets</span>
                                            <span class="char-value" id="char-assets">$200,000 - $800,000</span>
                                        </div>
                                        <div class="char-item">
                                            <span class="char-label">Debt</span>
                                            <span class="char-value" id="char-debt">$100,000 - $400,000</span>
                                        </div>
                                        <div class="char-item">
                                            <span class="char-label">Debt-to-Income Ratio</span>
                                            <span class="char-value" id="char-dti">32%</span>
                                        </div>
                                        <div class="char-item">
                                            <span class="char-label">Credit Score</span>
                                            <span class="char-value" id="char-credit">700 - 770</span>
                                        </div>
                                        <div class="char-item">
                                            <span class="char-label">Age Group</span>
                                            <span class="char-value" id="char-age">30 - 55</span>
                                        </div>
                                        <div class="char-item">
                                            <span class="char-label">Monthly Spend</span>
                                            <span class="char-value" id="char-spend">$5,000 - $8,000</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- State-specific Persona Characteristics (hidden by default) -->
                                <div class="characteristics-card hidden" id="state-char-card">
                                    <div class="card-header">
                                        <h4 id="state-char-title">Persona Characteristics</h4>
                                    </div>
                                    <div class="characteristics-list">
                                        <div class="char-item">
                                            <span class="char-label">Population</span>
                                            <span class="char-value" id="state-char-population"></span>
                                        </div>
                                        <div class="char-item">
                                            <span class="char-label">Assets</span>
                                            <span class="char-value" id="state-char-assets"></span>
                                        </div>
                                        <div class="char-item">
                                            <span class="char-label">Debt</span>
                                            <span class="char-value" id="state-char-debt"></span>
                                        </div>
                                        <div class="char-item">
                                            <span class="char-label">Debt-to-Income Ratio</span>
                                            <span class="char-value" id="state-char-dti"></span>
                                        </div>
                                        <div class="char-item">
                                            <span class="char-label">Credit Score</span>
                                            <span class="char-value" id="state-char-credit"></span>
                                        </div>
                                        <div class="char-item">
                                            <span class="char-label">Age Group</span>
                                            <span class="char-value" id="state-char-age"></span>
                                        </div>
                                        <div class="char-item">
                                            <span class="char-label">Monthly Spend</span>
                                            <span class="char-value" id="state-char-spend"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Products Owned -->
                            <div class="products-owned-card">
                                <div class="card-header">
                                    <h4>Products Owned</h4>
                                </div>
                                <div class="product-tags">
                                    <span class="product-tag">Mortgage</span>
                                    <span class="product-tag">Checking</span>
                                    <span class="product-tag">Home Insurance</span>
                                    <span class="product-tag">Credit Card</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="wizard-actions">
                        <button class="btn btn-outline" id="cancel-wizard">Cancel</button>
                        <button class="btn btn-primary" id="next-step">Review Products</button>
                    </div>
                </div>

                <!-- Step 2: Review Products -->
                <div class="wizard-step hidden" id="step-2">
                    <div class="products-review-grid">
                        <!-- Recommended Products -->
                        <div class="campaign-card recommended-products">
                            <div class="card-header">
                                <h4>Recommended Products</h4>
                            </div>
                            <div class="product-list">
                                <div class="product-item selected" data-product="heloc">
                                    <h5>HELOC</h5>
                                    <div class="product-details">
                                        <img class="icon" src="images/Icons/cheque.svg" alt="Cheque">
                                        <div>
                                            <span class="apr">7.99% APR</span>
                                            <span class="terms">7.81% for a $30k line</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="product-item" data-product="mortgage">
                                    <h5>Mortgage</h5>
                                    <div class="product-details">
                                        <img class="icon" src="images/Icons/home.svg" alt="Home">
                                        <div>
                                            <span class="apr">6.84% APR</span>
                                            <span class="terms">0-3.5% down payment</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="product-item" data-product="improvement">
                                    <h5>Improvement Loans</h5>
                                    <div class="product-details">
                                        <img class="icon" src="images/Icons/bill.svg" alt="Bill">
                                        <div>
                                            <span class="apr">6.49% APR</span>
                                            <span class="terms">$5k-$100k loans</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="product-item" data-product="insurance">
                                    <h5>Insurance</h5>
                                    <div class="product-details">
                                        <img class="icon" src="images/Icons/defense.svg" alt="Defense">
                                        <div>
                                            <span class="apr">$97/month</span>
                                            <span class="terms">High-value coverage</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Scatter Chart Section -->
                        <div class="scatter-section">
                            <div class="scatter-chart-container" id="scatter-chart">
                                <div class="card-header">
                                    <h4>Explore Persona</h4>
                                </div>
                                <!-- Tooltip: aparece al lado del punto con cÃ­rculo blanco centrado -->
                                <div class="scatter-tip" id="scatter-tip" aria-hidden="true">
                                    <div class="scatter-tip-dot"></div>
                                    <div class="scatter-tip-inner" id="scatter-tip-value">6320</div>
                                </div>

                                <svg id="scatter-svg" role="img" aria-label="Scatter plot: Explore Persona"></svg>
                            </div>

                            <div class="scatter-legend">
                                <span class="scatter-legend-dot"></span>
                                <span>Home Owners</span>
                            </div>

                            <div class="scatter-footer">
                                <div class="scatter-score">
                                    <h4>Propensity Score</h4>
                                    <strong id="propensity-value">80%</strong>
                                </div>

                                <div class="scatter-slider-wrap">
                                    <div class="scatter-scale">
                                        <span>0%</span>
                                        <span>100%</span>
                                    </div>
                                    <input id="propensity-slider" class="scatter-slider" type="range" min="0" max="100" value="80" />
                                </div>
                            </div>
                        </div>

                    </div>

                    <!-- Population Table -->
                    <div class="population-section campaign-card">
                        <div class="population-header card-header">
                            <h4>Population Overview</h4>
                            <span class="population-subtitle">Home Owners</span>
                            <div class="download-button-wrapper">
                                <button class="download-btn">
                                    <img class="icon" src="images/Icons/download.svg" alt="Download">
                                </button>
                            </div>
                        </div>
                        <table class="data-table population-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Home</th>
                                    <th>Mortgage</th>
                                    <th>Income</th>
                                    <th>Age</th>
                                    <th>Family Status</th>
                                    <th>Monthly Spend</th>
                                    <th>Credit Score</th>
                                    <th>Products Owned</th>
                                </tr>
                            </thead>
                            <tbody id="population-table-body">
                                <!-- Data populated by JS -->
                            </tbody>
                        </table>
                        <div class="table-footer">
                            <span class="segment-info">Persona Type Segment - Sample of 100 People</span>
                            <div class="pagination">
                                <button class="page-btn" id="prev-page">
                                    <img class="icon" src="images/Icons/arrowbackward.svg" alt="Arrow Backward">
                                    Previous
                                </button>
                                <span class="page-number">1</span>
                                <span>...</span>
                                <button class="page-btn" id="next-page">
                                    Next
                                    <img class="icon" src="images/Icons/arrowforward.svg" alt="Arrow Forward">
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="wizard-actions">
                        <button class="btn btn-outline" id="back-step">Cancel</button>
                        <button class="btn btn-primary" id="confirm-product">Confirm Product</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Success Modal -->
    <div class="modal" id="success-modal">
        <div class="modal-content">
            <div class="modal-body text-center">
                <div class="modal-icon success">
                    <img class="icon" src="images/Icons/checkcircle.svg" alt="Check Circle">
                </div>
                <h3>Ready to Launch!</h3>
                <p>You have finalized your choices. The selected product and persona type are now configured for your campaign.</p>
            </div>
            <button class="btn btn-primary" id="close-modal">OK</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>



